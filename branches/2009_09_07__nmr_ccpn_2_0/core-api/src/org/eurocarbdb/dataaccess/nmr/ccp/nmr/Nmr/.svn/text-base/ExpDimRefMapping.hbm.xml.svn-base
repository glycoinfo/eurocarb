<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
  "-//Hibernate/Hibernate Mapping DTD//EN"
  "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >

<hibernate-mapping auto-import="false" package="ccp.api.nmr.Nmr">
  <class
    name="ExpDimRefMapping"
    table="NMR_EXPDIMREFMAPPING"
    schema="nmr" 
  >
  <meta attribute="extends" inherit="false">memops.general.AbstractModelObject</meta>
  <meta attribute="implements">java.lang.Comparable</meta>
  <meta attribute="class-description">Mapping to other ExpDimRefs used in deriving this one. </meta>
  <cache usage="read-write"/>

  <id
    name="_dbId"
    access="field"
    column="DATAOBJECTID"
    type="java.lang.Long">
    <meta attribute="scope-set">protected</meta>
    <generator class="native"/>
  </id>
  
  <many-to-one
    name="_topObject"
    access="field"
    column="TOPOBJECTID"
    class="ccp.api.nmr.Nmr.NmrProject"
    not-null="true"
    unique="false"
    foreign-key="NMR_EXPDIMREFMAPP_NMRPROJECT_TO_FK"
  >
    <meta attribute="field-description">hard coded link to topObject</meta>
  </many-to-one>
  
  <property
    name="_mappedFromSign"
    access="field"
    type="java.lang.Integer"
    not-null="false"
  >
    <meta attribute="field-description">Sign of peaks in original ExpDimRef used to generate this one. Some programs (e.g. PRODECOMP) derive new experiment dimensiosn (shapes, in practice) from either positive or negative component of the original dimension.</meta>
    <meta attribute="default-value">null</meta>
    <column name="MAPPEDFROMSIGN" sql-type="INTEGER" not-null="false"/>
  </property>
  
  <list
    name="hbApplicationData"
    table="NMR_EXPDIMREFMAPP2APPLDATA"
      schema="nmr" 
    access="property"
    cascade="all"
  >
    <meta attribute="field-description">Application-specific data</meta>
    <key column="DATAOBJECTID"/>
    <list-index column="ORDER_applicationData_" base="1"/>
    <many-to-many
      column="APPLICATIONDATAID"
      class="memops.api.Implementation.ApplicationData"
      foreign-key="IMPL_DATAOBJECT_APPLDATA_FK"
      unique="true">
    </many-to-many>
  </list>
  
  <many-to-one
    name="hbAccess"
    column="ACCESSID"
    class="memops.api.AccessControl.AccessObject" 
    not-null="false"
    unique="true"
    foreign-key="IMPL_DATAOBJECT_ACCESS_FK" 
  >
    <meta attribute="field-description">Access object that controls object access</meta>
  </many-to-one>
  
  <many-to-one
    name="hbDerivedFrom"
    column="DERIVEDFROMID"
    class="ccp.api.nmr.Nmr.ExpDimRef" 
    cascade="merge,save-update"
    not-null="true"
    unique="false"
    foreign-key="NMR_EXPDIMREFMAPP_DERIFROM_FK" 
    unique-key="expDimRefMappingUniqueKey" 
  >
    <meta attribute="field-description">ExpDimRef used to derive current parent ExpDimRef - key for the ExpDimRefMapping class.</meta>
  </many-to-one>
  
  <many-to-one
    name="hbExpDimRef"
    column="EXPDIMREFID"
    class="ccp.api.nmr.Nmr.ExpDimRef" 
    cascade="merge,save-update"
    not-null="true"
    unique="false"
    foreign-key="NMR_EXPDIMREFMAPP_EXPDIMREF_FK" 
    unique-key="expDimRefMappingUniqueKey" 
  >
    <meta attribute="field-description">N/A</meta>
  </many-to-one>

  </class>

</hibernate-mapping>
