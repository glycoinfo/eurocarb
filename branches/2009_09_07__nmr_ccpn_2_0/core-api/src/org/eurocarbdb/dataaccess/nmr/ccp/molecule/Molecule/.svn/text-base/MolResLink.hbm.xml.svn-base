<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
  "-//Hibernate/Hibernate Mapping DTD//EN"
  "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >

<hibernate-mapping auto-import="false" package="ccp.api.molecule.Molecule">
  <class
    name="MolResLink"
    table="MOLE_MOLRESLINK"
    schema="nmr" 
  >
  <meta attribute="extends" inherit="false">memops.general.AbstractModelObject</meta>
  <meta attribute="implements">java.lang.Comparable</meta>
  <meta attribute="class-description">Link (bond) between two molResidues, through their MolResLinkEnds. MolResLinks that are valid for a Molecule are implicitly valid also for Chains linked to that Molecule. Unlike MolResLinkEnds, MolResLinks can be created (or modified) for existing molecules, even if the Molecule is linked to one or more Chains. This allows linkages to be redefined, or to be left as initially unknown (as in the case of a protein with unknown disulfide binding topology). </meta>
  <cache usage="read-write"/>

  <id
    name="_dbId"
    access="field"
    column="DATAOBJECTID"
    type="java.lang.Long">
    <meta attribute="scope-set">protected</meta>
    <generator class="native"/>
  </id>
  
  <many-to-one
    name="_topObject"
    access="field"
    column="TOPOBJECTID"
    class="ccp.api.molecule.Molecule.Molecule"
    not-null="true"
    unique="false"
    foreign-key="MOLE_MOLRESLINK_MOLECULE_TO_FK"
  >
    <meta attribute="field-description">hard coded link to topObject</meta>
  </many-to-one>
  
  <property
    name="_dihedralAngle"
    access="field"
    type="java.lang.Integer"
    not-null="false"
  >
    <meta attribute="field-description">Approximate value in degrees of dihedral angle formed across bond (as defined in the ChemComp Link definitions). The value is not precise but serves to indicate the conformation of rotationally hindered bonds.</meta>
    <meta attribute="default-value">null</meta>
    <column name="DIHEDRALANGLE" sql-type="INTEGER" not-null="false"/>
  </property>
  
  <list
    name="hbApplicationData"
    table="MOLE_MOLRESLINK2APPLDATA"
      schema="nmr" 
    access="property"
    cascade="all"
  >
    <meta attribute="field-description">Application-specific data</meta>
    <key column="DATAOBJECTID"/>
    <list-index column="ORDER_applicationData_" base="1"/>
    <many-to-many
      column="APPLICATIONDATAID"
      class="memops.api.Implementation.ApplicationData"
      foreign-key="IMPL_DATAOBJECT_APPLDATA_FK"
      unique="true">
    </many-to-many>
  </list>
  
  <many-to-one
    name="hbAccess"
    column="ACCESSID"
    class="memops.api.AccessControl.AccessObject" 
    not-null="false"
    unique="true"
    foreign-key="IMPL_DATAOBJECT_ACCESS_FK" 
  >
    <meta attribute="field-description">Access object that controls object access</meta>
  </many-to-one>
  
  <many-to-one
    name="hbMolecule"
    column="MOLECULEID"
    class="ccp.api.molecule.Molecule.Molecule" 
    cascade="merge,save-update"
    not-null="true"
    unique="false"
    foreign-key="MOLE_MOLRESLINK_MOLECULE_FK" 
  >
    <meta attribute="field-description">N/A</meta>
  </many-to-one>
  
  <set 
    name="hbMolResLinkEnds" 
    table="MOLE_MOLRESLINKEND"
      schema="nmr" 
    inverse="true" 
    cascade="none"
  >
    <meta attribute="field-description">LinkEnds that make up the MolSystemLink</meta>
    <meta attribute="base-name">hbMolResLinkEnd</meta>
    <cache usage="read-write"/>
    <key column="MOLRESLINKID"/>
    <one-to-many class="ccp.api.molecule.Molecule.MolResLinkEnd"/>
  </set>

  </class>

</hibernate-mapping>
