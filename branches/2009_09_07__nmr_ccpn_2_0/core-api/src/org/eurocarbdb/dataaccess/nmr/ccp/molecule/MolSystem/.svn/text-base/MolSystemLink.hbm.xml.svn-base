<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
  "-//Hibernate/Hibernate Mapping DTD//EN"
  "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >

<hibernate-mapping auto-import="false" package="ccp.api.molecule.MolSystem">
  <class
    name="MolSystemLink"
    table="MOLS_MOLSYSTEMLINK"
    schema="nmr" 
  >
  <meta attribute="extends" inherit="false">memops.general.AbstractModelObject</meta>
  <meta attribute="implements">java.lang.Comparable</meta>
  <meta attribute="class-description">Link between two ChemComps (bulding blocks) not already described in the Molecule description. Intended for intermolecular links, additional crosslinks, or links whose location was not known precisely when describing the Molecule. Disulfide bonds would be a good example for either category. Part of the description of MolSystem level additional links.</meta>
  <cache usage="read-write"/>

  <id
    name="_dbId"
    access="field"
    column="DATAOBJECTID"
    type="java.lang.Long">
    <meta attribute="scope-set">protected</meta>
    <generator class="native"/>
  </id>
  
  <many-to-one
    name="_topObject"
    access="field"
    column="TOPOBJECTID"
    class="ccp.api.molecule.MolSystem.MolSystem"
    not-null="true"
    unique="false"
    foreign-key="MOLS_MOLSYSTLINK_MOLSYSTEM_TO_FK"
  >
    <meta attribute="field-description">hard coded link to topObject</meta>
  </many-to-one>
  
  <property
    name="_dihedralAngle"
    access="field"
    type="java.lang.Integer"
    not-null="false"
  >
    <meta attribute="field-description">Approximate value in degrees of dihedral angle formed across bond (as defined in the ChemComp Link definitions). The value is not precise but serves to indicate the conformation of rotationally hindered bonds.</meta>
    <meta attribute="default-value">null</meta>
    <column name="DIHEDRALANGLE" sql-type="INTEGER" not-null="false"/>
  </property>
  
  <list
    name="hbApplicationData"
    table="MOLS_MOLSYSTLINK2APPLDATA"
      schema="nmr" 
    access="property"
    cascade="all"
  >
    <meta attribute="field-description">Application-specific data</meta>
    <key column="DATAOBJECTID"/>
    <list-index column="ORDER_applicationData_" base="1"/>
    <many-to-many
      column="APPLICATIONDATAID"
      class="memops.api.Implementation.ApplicationData"
      foreign-key="IMPL_DATAOBJECT_APPLDATA_FK"
      unique="true">
    </many-to-many>
  </list>
  
  <many-to-one
    name="hbAccess"
    column="ACCESSID"
    class="memops.api.AccessControl.AccessObject" 
    not-null="false"
    unique="true"
    foreign-key="IMPL_DATAOBJECT_ACCESS_FK" 
  >
    <meta attribute="field-description">Access object that controls object access</meta>
  </many-to-one>
  
  <many-to-one
    name="hbMolSystem"
    column="MOLSYSTEMID"
    class="ccp.api.molecule.MolSystem.MolSystem" 
    cascade="merge,save-update"
    not-null="true"
    unique="false"
    foreign-key="MOLS_MOLSYSTLINK_MOLSYSTEM_FK" 
  >
    <meta attribute="field-description">N/A</meta>
  </many-to-one>
  
  <set 
    name="hbMolSystemLinkEnds" 
    table="MOLS_MOLSYSTEMLINKEND"
      schema="nmr" 
    inverse="true" 
    cascade="none"
  >
    <meta attribute="field-description">LinkEnds that make up the MolSystemLink</meta>
    <meta attribute="base-name">hbMolSystemLinkEnd</meta>
    <cache usage="read-write"/>
    <key column="MOLSYSTEMLINKID"/>
    <one-to-many class="ccp.api.molecule.MolSystem.MolSystemLinkEnd"/>
  </set>

  </class>

</hibernate-mapping>
