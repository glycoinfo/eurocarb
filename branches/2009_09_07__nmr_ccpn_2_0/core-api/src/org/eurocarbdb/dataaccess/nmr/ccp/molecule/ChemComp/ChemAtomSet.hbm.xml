<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
  "-//Hibernate/Hibernate Mapping DTD//EN"
  "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >

<hibernate-mapping auto-import="false" package="ccp.api.molecule.ChemComp">
  <class
    name="ChemAtomSet"
    table="CHEM_CHEMATOMSET"
    schema="nmr" 
  >
  <meta attribute="extends" inherit="false">memops.general.AbstractModelObject</meta>
  <meta attribute="implements">java.lang.Comparable</meta>
  <meta attribute="class-description">Group of chem atoms that may form a pseudoatom. A ChemAtomSet may consist of either other ChemAtomSets or of ChemAtoms, but not both. All ChemAtomSets are relevant for all ChemCompVars, but they (or some of the ChemAtomSets they consist of) may contain fewer or even no atoms in some ChemCompVars.</meta>
  <cache usage="read-write"/>

  <id
    name="_dbId"
    access="field"
    column="DATAOBJECTID"
    type="java.lang.Long">
    <meta attribute="scope-set">protected</meta>
    <generator class="native"/>
  </id>
  
  <many-to-one
    name="_topObject"
    access="field"
    column="TOPOBJECTID"
    class="ccp.api.molecule.ChemComp.ChemComp"
    not-null="true"
    unique="false"
    foreign-key="CHEM_CHEMATOMSET_CHEMCOMP_TO_FK"
  >
    <meta attribute="field-description">hard coded link to topObject</meta>
  </many-to-one>
  
  <property
    name="_distCorr"
    access="field"
    type="java.lang.Float"
    not-null="true"
  >
    <meta attribute="field-description">Distance Restraint Correction (in A) applied when making restraints to the pseudoatom defined here. </meta>
    <meta attribute="default-value">new java.lang.Float(0.0)</meta>
    <column name="DISTCORR" sql-type="FLOAT" not-null="true"/>
  </property>
  
  <property
    name="_isEquivalent"
    access="field"
    type="java.lang.Boolean"
    not-null="false"
  >
    <meta attribute="field-description">Indicates whether the atoms in the ChemAtomSet are chemically equivalent (set to true, e.g. for a methyl group), non-equivalent (set to false, e.g. for  a methylene group or for the NH2 protons of a glutamine side chain), or sometimes equivalent (not set, e.g. for the HD1/HD2 protons of a a Phe or Tyr aromatic ting)..</meta>
    <meta attribute="default-value">null</meta>
    <column name="ISEQUIVALENT" sql-type="BOOLEAN" not-null="false"/>
  </property>
  
  <property
    name="_isProchiral"
    access="field"
    type="java.lang.Boolean"
    not-null="true"
  >
    <meta attribute="field-description">Indicates whether the two atoms or chemAtomSets in the ChemAtomSet form a prochiral pair, such as the b methylene group of serine..</meta>
    <meta attribute="default-value">null</meta>
    <column name="ISPROCHIRAL" sql-type="BOOLEAN" not-null="true"/>
  </property>
  
  <property
    name="_name"
    access="field"
    type="java.lang.String" length="32"
    not-null="true"
  >
    <meta attribute="field-description">Pseudo atom name. </meta>
    <meta attribute="default-value">null</meta>
    <column name="NAME" sql-type="VARCHAR(32)" length="32" not-null="true" unique-key="chemAtomSetUniqueKey" />
  </property>
  
  <property
    name="_subType"
    access="field"
    type="java.lang.Integer"
    not-null="true"
  >
    <meta attribute="field-description">Subtype of ChemAtomSet, used to distinguish ChemAtomSets with the same names but different characteristics, to be used in diferent ChemCompVars.</meta>
    <meta attribute="default-value">new java.lang.Integer(1)</meta>
    <column name="SUBTYPE" sql-type="INTEGER" not-null="true" unique-key="chemAtomSetUniqueKey" />
  </property>
  
  <list
    name="hbApplicationData"
    table="CHEM_CHEMATOMSET2APPLDATA"
      schema="nmr" 
    access="property"
    cascade="all"
  >
    <meta attribute="field-description">Application-specific data</meta>
    <key column="DATAOBJECTID"/>
    <list-index column="ORDER_applicationData_" base="1"/>
    <many-to-many
      column="APPLICATIONDATAID"
      class="memops.api.Implementation.ApplicationData"
      foreign-key="IMPL_DATAOBJECT_APPLDATA_FK"
      unique="true">
    </many-to-many>
  </list>
  
  <many-to-one
    name="hbAccess"
    column="ACCESSID"
    class="memops.api.AccessControl.AccessObject" 
    not-null="false"
    unique="true"
    foreign-key="IMPL_DATAOBJECT_ACCESS_FK" 
  >
    <meta attribute="field-description">Access object that controls object access</meta>
  </many-to-one>
  
  <many-to-one
    name="hbChemAtomSet"
    column="CHEMATOMSETID"
    class="ccp.api.molecule.ChemComp.ChemAtomSet" 
    not-null="false"
    unique="false"
    foreign-key="CHEM_CHEMATOMSET_CHEMATOMSET_FK" 
  >
    <meta attribute="field-description">ChemAtomSet that ChemAtoms are part of</meta>
  </many-to-one>
  
  <many-to-one
    name="hbChemComp"
    column="CHEMCOMPID"
    class="ccp.api.molecule.ChemComp.ChemComp" 
    cascade="merge,save-update"
    not-null="true"
    unique="false"
    foreign-key="CHEM_CHEMATOMSET_CHEMCOMP_FK" 
    unique-key="chemAtomSetUniqueKey" 
  >
    <meta attribute="field-description">N/A</meta>
  </many-to-one>
  
  <set 
    name="hbChemAtomSets" 
    table="CHEM_CHEMATOMSET"
      schema="nmr" 
    inverse="true" 
    cascade="none"
  >
    <meta attribute="field-description">ChemAtomSets that make up ChemAtomSet</meta>
    <meta attribute="base-name">hbChemAtomSet</meta>
    <cache usage="read-write"/>
    <key column="CHEMATOMSETID"/>
    <one-to-many class="ccp.api.molecule.ChemComp.ChemAtomSet"/>
  </set>
  
  <set 
    name="hbChemAtoms" 
    table="CHEM_CHEMATOM"
      schema="nmr" 
    inverse="true" 
    cascade="none"
  >
    <meta attribute="field-description">ChemAtoms that make up ChemAtomSet.</meta>
    <meta attribute="base-name">hbChemAtom</meta>
    <cache usage="read-write"/>
    <key column="CHEMATOMSETID"/>
    <one-to-many class="ccp.api.molecule.ChemComp.ChemAtom"/>
  </set>

  </class>

</hibernate-mapping>
